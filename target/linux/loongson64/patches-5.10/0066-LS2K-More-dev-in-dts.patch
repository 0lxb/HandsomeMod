From d0d1c7a5f3f9d8ae55ad18deaa47e73cd6949e78 Mon Sep 17 00:00:00 2001
From: Jiaxun Yang <jiaxun.yang@flygoat.com>
Date: Mon, 8 Jun 2020 14:25:34 +0800
Subject: [PATCH 66/81] LS2K: More dev in dts

Signed-off-by: Jiaxun Yang <jiaxun.yang@flygoat.com>
---
 arch/mips/boot/dts/loongson/loongson2k.dts | 94 +++++++++++++++++++---
 1 file changed, 85 insertions(+), 9 deletions(-)

diff --git a/arch/mips/boot/dts/loongson/loongson2k.dts b/arch/mips/boot/dts/loongson/loongson2k.dts
index 9480556b0b..a32b50f499 100644
--- a/arch/mips/boot/dts/loongson/loongson2k.dts
+++ b/arch/mips/boot/dts/loongson/loongson2k.dts
@@ -17,6 +17,12 @@ cpuintc: interrupt-controller {
 		compatible = "mti,cpu-interrupt-controller";
 	};
 
+	apb_clk: apb_clk {
+		#clock-cells = <0>;
+		compatible = "fixed-clock";
+		clock-frequency = <125000000>;
+	};
+
 	package0: bus@10000000 {
 		compatible = "simple-bus";
 		#address-cells = <2>;
@@ -25,6 +31,85 @@ package0: bus@10000000 {
 			0 0x40000000 0 0x40000000 0 0x40000000
 			0xfe 0x00000000 0xfe 0x00000000 0 0x40000000>;
 
+		uart0: serial@1fe00000 {
+			compatible = "ns16550a";
+			reg = <0 0x1fe00000 0 0x8>;
+			clock-frequency = <125000000>;
+			interrupt-parent = <&liointc0>;
+			interrupts = <0 IRQ_TYPE_LEVEL_LOW>;
+			no-loopback-test;
+		};
+
+		can0: can@1fe00c00{
+			compatible = "nxp,sja1000";
+			reg = <0 0x1fe00c00 0 0xff>;
+			interrupt-parent = <&liointc0>;
+			interrupts = <16 IRQ_TYPE_LEVEL_LOW>;
+		};
+
+		can1: can@1fe00d00{
+			compatible = "nxp,sja1000";
+			reg = <0 0x1fe00d00 0 0xff>;
+			interrupt-parent = <&liointc0>;
+			interrupts = <17 IRQ_TYPE_LEVEL_LOW>;
+		};
+
+		i2c0: i2c@1fe01000 {
+			compatible = "loongson,i2cmst-1.2";
+			reg = <0 0x1fe01000 0 0x8>;
+			interrupt-parent = <&liointc0>;
+			interrupts = <22 IRQ_TYPE_LEVEL_LOW>;
+			clocks = <&apb_clk>;
+			#address-cells = <1>;
+			#size-cells = <0>;
+		};
+
+		i2c1: i2c@1fe01800 {
+			compatible = "loongson,i2cmst-1.2";
+			reg = <0x0 0x1fe01800 0x0 0x8>;
+			interrupt-parent = <&liointc0>;
+			interrupts = <23 IRQ_TYPE_LEVEL_LOW>;
+			clocks = <&apb_clk>;
+			#address-cells = <1>;
+			#size-cells = <0>;
+		};
+
+		pwm0: pwm@1fe02000{
+			compatible = "loongson,ls2k-pwm";
+			reg = <0 0x1fe02000 0 0x10>;
+			interrupt-parent = <&liointc0>;
+			interrupts = <24 IRQ_TYPE_LEVEL_LOW>;
+		};
+
+		pwm1: pwm@1fe02010{
+			compatible = "loongson,ls2k-pwm";
+			reg = <0 0x1fe02010 0 0x10>;
+			interrupt-parent = <&liointc0>;
+			interrupts = <25 IRQ_TYPE_LEVEL_LOW>;
+		};
+
+		pwm2: pwm@1fe02020{
+			compatible = "loongson,ls2k-pwm";
+			reg = <0 0x1fe02020 0 0x10>;
+			interrupt-parent = <&liointc0>;
+			interrupts = <26 IRQ_TYPE_LEVEL_LOW>;
+		};
+
+		pwm3: pwm@1fe02030{
+			compatible = "loongson,ls2k-pwm";
+			reg = <0 0x1fe02030 0 0x10>;
+			interrupt-parent = <&liointc0>;
+			interrupts = <27 IRQ_TYPE_LEVEL_LOW>;
+		};
+
+		gpio: gpio@1fe10500{
+			compatible = "ls,ls2k-gpio", "ls,ls-gpio";
+			reg = <0 0x1fe10500 0 0x38>;
+			ngpios = <64>;
+			gpio-controller;
+			#gpio-cells = <2>;
+		};
+
 		liointc0: interrupt-controller@1fe11400 {
 			compatible = "loongson,liointc-2.0";
 			reg = <0 0x1fe11400 0 0x40>,
@@ -65,15 +150,6 @@ liointc1: interrupt-controller@1fe11440 {
 						<0x00000000>; /* int3 */
 		};
 
-		uart0: serial@1fe00000 {
-			compatible = "ns16550a";
-			reg = <0 0x1fe00000 0 0x8>;
-			clock-frequency = <125000000>;
-			interrupt-parent = <&liointc0>;
-			interrupts = <0 IRQ_TYPE_LEVEL_LOW>;
-			no-loopback-test;
-		};
-
 		pci@1a000000 {
 			compatible = "loongson,ls2k-pci";
 			device_type = "pci";
-- 
2.31.1

